---
mariadb_server_package_name: mariadb-server
mariadb_packages:
  - "{{ mariadb_server_package_name }}"
  - percona-xtrabackup-24
  - qpress
  - python-mysqldb
  - mytop
mariadb_service_name: mysql
mariadb_service_user: mysql
mariadb_service_group: mysql

mariadb_deb_repository: "deb [arch=amd64,i386,ppc64el] http://mirrors.bestthaihost.com/mariadb/repo/10.1/ubuntu {{ ansible_distribution_release }} main"
mariadb_apt_key_server: hkp://keyserver.ubuntu.com:80
mariadb_apt_key_id: "0xF1656F24C74CD1D8"

mariadb_mysql_apt_deb_filename: mysql-apt-config_0.8.0-1_all.deb
mariadb_mysql_apt_deb: "https://dev.mysql.com/get/{{ mariadb_mysql_apt_deb_filename }}"
mariadb_mysql_apt_deb_target_path: "/tmp/{{ mariadb_mysql_apt_deb_filename }}"
mariadb_mysql_version: mysql-5.7

mariadb_percona_apt_deb_filename: "percona-release_0.1-4.{{ ansible_distribution_release }}_all.deb"
mariadb_percona_apt_deb: "https://repo.percona.com/apt/{{ mariadb_percona_apt_deb_filename }}"
mariadb_percona_apt_deb_target_path: "/tmp/{{ mariadb_percona_apt_deb_filename }}"

mariadb_root_mycnf_filepath: /root/.my.cnf
mariadb_etc_path: /etc/mysql
mariadb_mycnf_path: "{{ mariadb_etc_path }}/my.cnf"
mariadb_socket: /var/run/mysqld/mysqld.sock
mariadb_data_path: /var/lib/mysql
mariadb_ssh_key_filepath: /root/.ssh/id_rsa
mariadb_ssh_public_key_filepath: "{{ mariadb_ssh_key_filepath }}.pub"
mariadb_tmp_local_ssh_public_key_filepath: /tmp/mariadb-id_rsa.pub

# Set binlog format (row, mixed, statement)
# https://mariadb.com/kb/en/mariadb/binary-log-formats
mariadb_binlog_format: mixed

mariadb_bind_address: 0.0.0.0
mariadb_character_set: utf8
mariadb_collation_server: utf8_unicode_ci

mariadb_build_slave: false
mariadb_slave_replication: true
mariadb_root_password: CHANGEME
mariadb_replicate_username: repl
mariadb_replicate_password: CHANGEME
mariadb_decompress_memory: 1G

# Sample to add users
# mariadb_users:
#   - username: user1
#     password: pass1
#     host: localhost
#     priv: db1.*:ALL
#   - username: user2
#     password: pass2
#     host: '%'
#     priv: *.*:ALL

# Sample to create databases
# mariadb_databases:
#   - db1
#   - db2
